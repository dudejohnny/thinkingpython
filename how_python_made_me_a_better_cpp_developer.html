<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>How Thinking in Python Made Me a Better c++ Developer - Johnny D.</title>
    <link rel="stylesheet" href="reveal.js/css/reveal.css">
    <link rel="stylesheet" href="my_moon.css">
  </head>

  <body>
    <div class="reveal">
      <div class="slides">

        <!--
          Main Ttile
        -->
        <section>
          <h2>How <text style="color:#eeaaff;">thinking</text> in Python made me a better c++ developer</h2>
          <div style="text-align:right;">
            johnny.dude@gmail.com <br/>
            @johnnydude1219
          </div>
        </section>


        <!--
          This talk is about
        -->
        <section>
          <h2>This talk is about</h2>
          <div>
            <list>
                <li> A good question </li>
                <li> I really have no idea </li>
              </list>
          </div>
        </section>

        <!--
          Experiments
        -->
        <section>
            <h2>"My Experiment"</h2>
            <!--
            My Experiment
            background image interview
          -->
          <section data-transition="fade-in fade-out" data-background="images/engineer.jpg">
          </section>

          <section data-transition="fade-in fade-out">
            <p>Simple known problem with a known solution.</p>
            <p class="fragment">42 minutes in Python (TODO graph it)</p>
            <p class="fragment">~150 minutes in c++ (TODO graph it)</p>
            <p class="fragment">20 minutes in Python (TODO graph it)</p>
            <p class="fragment">14 minutes in Python (TODO graph it)</p>
          </section>
        </section>

          <!--
            Technical Report
            background image photo of the paper on desk
          -->
        <section>
          <h2>Empirical Comparison</h2>
          
          <section data-transition="fade-in fade-out" data-background="images/20190427_132301.jpg">
            <a href="https://page.mi.fu-berlin.de/prechelt/Biblio/jccpprtTR.pdf" style="text-shadow: 0 0 3px black, 0 0 5px black, 0 0 10px black, 0 0 25px black;">
              Prechelt, “An empirical comparison of c, c++, java, perl, python, rexx, and tcl for a search/string-processing program” 2000.
            </a>
          </section>
          
          <!--
          -->
          <section data-transition="fade-in fade-out">
              <img src="images/figure_15.png">
          </section>

          <!--
          -->
          <section data-transition="fade-in fade-out">
              <img src="images/figure_12.png">
          </section>

          <!--
          -->
          <section data-transition="fade-in fade-out">
              <img src="images/figure_10.png">
          </section>

        </section>
          
          <!--
            Article
            background image photo of the paper on desk
          -->
        <section>
          <h2>Open Source Analysis</h2>
          <section data-transition="fade-in fade-out" data-background="images/20190427_132200.jpg">
            <a href="https://soarsmu.github.io/papers/A_Large_Scale_Study_of_Multiple_Programming_Languages_and_Code_Quality.pdf">
              P.S. Kochhar, D. Wijedasa, D. Lo,
             "A large scale study of multiple programming languages and code quality",
             Proc. of the 23rd International Conference on Software Analysis Evolution and Reengineering (SANER),
             vol. 1, pp. 563-573, March 2016.
            </a>
          </section>

          <section data-transition="fade-in fade-out">
              <img src="images/table.png">
          </section>
          
          <section data-transition="fade-in fade-out">
            <table>
              <tr><th>Language</th><th>Bugs</th><th>SLOC / Commit</th></tr>
              <tr><th>c++</th><th>39.6%</th><th>880</th></tr>
              <tr><th>c</th><th>33.2%</th><th>294</th></tr>
              <tr><th>Python</th><th>29.8%</th><th>188</th></tr>
              <tr><th>Clojure</th><th>16.8%</th><th>135</th></tr>
            </table>
          </section>

        </section>

        <!--
          Python vs c++
        -->
        <section>
          <h2>
            (compared to <text style="color:#eeaaff;">c++</text>)<br/>
            <text style="color:#eeaaff;">Python</text> is
          </h2>
          <table style="font-size: 50%">
            <th>
              <ul>
                <li>Dynamically Typed</li>
                <li>Easy to Learn</li>
                <li>Cross Platform</li> <!-- write once run everywhere -->
                <li>Interpreted</li>
                <li>(Cooperative) Community</li>
                <li>Garage Collection</li>
                <li>Batteries Included</li>
                <li>Composable Standard Library</li>
                <li>Actually Object Oriented</li>
                <li>Multi-Paradigm</li>
                <li>Friendly Syntax</li>
              </ul>
            </th><th>
              <ul>
                <li>Supports Garbage Collection</li>
                <li>Coroutines (simple and standard)</li>
                <li>Efficient Data Structures</li>
                <li>Repository of Modules (PyPi)</li>
                <li>Interactive Prompt</li>
                <li>Protocols</li>
                <li>Iterators (composable)</li>
                <li>(Dict, List, and Set) Comprehensions</li>
                <li>Generators and Genexps</li>
                <li>Decorators</li>
                <li>Context Managment (with statement)</li>
              </ul>
            </th>
          </table>
        </section>

        <!--
          Composability and Detail Level
        -->
        <section>
            <h2>Composability</h2>
  
            <!--
            -->

            <section  data-transition="fade-in fade-out" data-background="images/lego.jpg">
            </section>

            <section  data-transition="fade-in fade-out">
                <pre><code data-trim>
def firsts_sorted_by_second(items):
    return [
        first for first, second
        in sorted(items, key = lambda item: item[1])
    ]
                </code></pre>
              </section>

              <section  data-transition="fade-in fade-out">
                  <pre style="font-size: 30%;"><code data-trim>
std::vector&lt;int&gt; firsts_sorted_by_second(
  const std::vector&lt;std::pair&lt;int, int&gt;&gt;& items
) {
  std::vector&lt;std::pair&lt;int, int&gt;&gt; temp(items);

  std::sort(
    temp.begin(),
    temp.end(), 
    [](const int& a, const int& b
  ) -> bool { 
    return a.second > b.second; 
  });

  std::vector&lt;int&gt; results;
  results.reserve(temp.size());
  std::transform(
    temp.begin(),
    temp.end(),
    std::back_inserter(results),
    [](auto const& pair){ return pair.first; }
  );

  return results;
}
                  </code></pre>
                </section>
      

            <section data-transition="fade-in fade-out">
              <p>What if you need a proxy for a SQL database.</p>
            </section>
  
            <!--
            -->
            <section data-transition="fade-in fade-out">
              <div>
                <p style="text-align: left;">In Python you can simply:</p>
                <ol>
                  <li>Use an existing framework of a server.</li>
                  <li>Use the standard db-api.</li>
                  <li>Serialize the results with pickle.</li>
                </ol>
              </div>
              <div class="fragment">
                <p style="text-align: left;">Later in the order of your choosing:</p>
                <ol>
                  <li>Limit the user to a predefined set of functions.</li>
                  <li>Type check the input and output.</li>
                  <li>Switch to any database at any point in time.</li>
                </ol>
              </div>
            </section>

            <section data-transition="fade-in fade-out">
              <div>
                <p style="text-align: left;">In c++ you have to:</p>
                <ol>
                  <li>Define all input and output data structure in advance</li>
                  <li>Choose a serializer in advance.</li>
                  <li>Choose your database in advance.</li>
                  <li>Choose a framework for the service</li>
                  <li class="fragment highlight-red">Verify all chosen libraries are composable</li>
                </ol>
              </div>
            </section>

          </section>
          <!--
          Immediate Reaction
        -->
        <section>
          <h2>Immediate Reaction</h2>
  
          <!--
          -->
          <section data-transition="fade-in fade-out" data-background="images/wysiwyg.jpg">
          </section>
  
          <!--
          -->
          <section data-transition="fade-in fade-out">
            <p>Reading code IDE, Writing code - Interactive</p>
          </section>

          <!--
          -->
          <section data-transition="fade-in fade-out">
            <p>Like writing a unix command with pipes</p>
          </section>
        </section>

        <!--
          Object Representation
        -->
        <section>
          <h2>Object Representation</h2>

          <!--
          -->
          <section data-transition="fade-in fade-out" data-background="images/repr.jpg">
          </section>

          <!--
          -->
          <section data-transition="fade-in fade-out">
            <ol>
              <li>Python object have a <span style="font-family:courier">__repr__</span> function.</li>
              <li>Containers representation is composable, and retroactive.</li>
              <li>It looks the same when you <span style="font-family:courier">print</span> it, log it, hoover over it in your IDE, or debug it with <span style="font-family:courier">pdb</span></li>
            </ol>
          </section>

          <!--
          -->
          <section data-transition="fade-in fade-out">
            <p>This is not true for c++</p>
          </section>

          <!--
          -->
          <section data-transition="fade-in fade-out">
            <p>A vector has no representaion</p>
            <p>It looks different in different OS, IDE, debuggers, logs, user defined prints</p>
            <p>Most of which are not composible.</p>
          </section>

          <!--
          <section data-transition="fade-in fade-out">
              <div>
                <p style="text-align: left;"></p>
                <ol>
                  <li>Python object have a <span style="font-family:courier">__repr__</span> function.</li>
                  <li>Containers representation is composable, and retroactive.</li>
                  <li>It looks the same when you <span style="font-family:courier">print</span> it, log it, hoover over it in your IDE, or debug it with <span style="font-family:courier">pdb</span></li>
                </ol>
              </div>
          </section>
          -->
        </section>

        <!--
          Hypothesis
        -->
        <section>
          <h2>Hypothesis</h2>
          <section data-transition="fade-in fade-out" data-background="images/hypothesis.jpg">
          </section>

          <!--
          -->
          <section data-transition="fade-in fade-out">
            <div style="background-color: white; font-family: 'FontAwesome'; text-shadow: 0 0 0; color: black; text-align: left;">
              <div style="border: 15px solid white;">
                <p style="font-size: 100%;">What is Hypothesis?</p>
                <p style="font-size: 60%;">Hypothesis is a modern implementation of <a href="https://en.wikipedia.org/wiki/QuickCheck">property based testing</a>, designed from the ground up for mainstream languages.</p>
                <p style="font-size: 60%;">
                  Hypothesis runs your tests against a much wider range of scenarios than a human tester could, finding edge cases
                  in your code that you would otherwise have missed. It then turns them into simple and easy to understand failures
                  that save you time and money compared to fixing them if they slipped through the cracks and a user had run into
                  them instead.
                </p>
                <p style="font-size: 60%;">
                  Hypothesis currently has <a href="https://github.com/HypothesisWorks/hypothesis-python/">a fully featured open source Python implementation</a>
                  and <a href="https://github.com/HypothesisWorks/hypothesis-java">a proof of concept Java implementation</a> that we are looking for customers to partner with to turn into a finished project.
                  Plans for C and C++ support are also in the works.
                </p>
              </div>
            </div>
          </section>

          <!--
          -->
          <section data-transition="fade-in fade-out">
            <p>
              Hypothesis currently has <a href="https://github.com/HypothesisWorks/hypothesis-python/">a fully featured open source Python implementation</a>
               and <a href="https://github.com/HypothesisWorks/hypothesis-java">a proof of concept Java implementation</a> that we are looking for customers to partner with to turn into a finished project.
              <span class="fragment highlight-red">Plans for C and C++ support are also in the works.</span>
            </p>
          </section>
        </section>

        <!--
          Beyond Prototyping
        -->
        <section>
          <h2>Beyond Prototyping</h2>
          <section data-transition="fade-in fade-out" data-background="images/prototyping.jpg">
          </section>

          <!--
          -->
          <section data-transition="fade-in fade-out">
            <h3>What do we get from prototyping?</h3>
            <ul>
              <li>First development x3 faster</li>
              <li>Writing code the second time is x2 faster <br/> and clearer, and of higher quality.</li>
              <li>Total development is faster and better.</li>
            </ul>
          </section>

          <!--
          -->
          <section data-transition="fade-in fade-out">
            <h3>How about keeping a reference implementation?</h3>
            <ul>
              <li>New feature or enhancement's first development x3 faster</li>
              <li>Writing code the second time is x2 faster <br/> and clearer, and of higher quality.</li>
              <li>Total development is faster and better.</li>
            </ul>
          </section>

          <!--
          -->
          <section data-transition="fade-in fade-out">
            <pre><code style="font-size:120%" data-trim>
  try:
      import cPickle as pickle
  except:
      import pickle
            </code></pre>
          </section>
    

          <!--
          -->
          <section data-transition="fade-in fade-out">
            <h3>Why not just use Python for production?</h3>
            <ul>
              <li class="fragment">Good question</li>
              <li class="fragment">Reason</li>
              <li class="fragment">Another reason</li>
            </ul>
          </section>
        </section>


        <!--
          Thinking in Python
        -->
        <section>
            <h2><text style="color:#eeaaff;">Thinking</text> in Python</h2>
  
            <!--
            -->
            <section data-transition="fade-in fade-out">
            </section>
  
            <!--
            -->
            <section data-transition="fade-in fade-out">
              <img src="images/youtube.A.png">
            </section>
      
            <!--
            -->
            <section data-transition="fade-in fade-out">
                <img src="images/youtube.kYxLdctzyjE.jpg">
            </section>
  
            <!--
            -->
            <section data-transition="fade-in fade-out">
              <p>More examples</p>
            </section>
          </section>
    
        </div>
    </div>

    <script src="reveal.js/js/reveal.js"></script>
    <script> Reveal.initialize(); </script>
  </body>
</html>
